<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Game Review</title>
    <link rel="stylesheet" href="my.css">
</head>
<body>
    <div class="container">
        <h1>Edit Game Review</h1>

    <form id="editForm">
        <label for="gameTitle">Game Title:</label>
        <input type="text" id="gameTitle" name="gameTitle" required>
        <br><br>

        <label for="platform">Platform:</label>
        <select id="platform" name="platform" required>
            <option value="">Select Platform</option>
            <option value="PC">PC</option>
            <option value="PS5">PlayStation 5</option>
            <option value="Xbox Series X">Xbox Series X</option>
            <option value="Nintendo Switch">Nintendo Switch</option>
            <option value="Mobile">Mobile</option>
            <option value="PS4">PlayStation 4</option>
            <option value="Xbox One">Xbox One</option>
        </select>
        <br><br>

        <label for="genre">Genre:</label>
        <select id="genre" name="genre" required>
            <option value="">Select Genre</option>
            <option value="Action">Action</option>
            <option value="Adventure">Adventure</option>
            <option value="RPG">RPG</option>
            <option value="Strategy">Strategy</option>
            <option value="Simulation">Simulation</option>
            <option value="Sports">Sports</option>
            <option value="Racing">Racing</option>
            <option value="Horror">Horror</option>
            <option value="Puzzle">Puzzle</option>
            <option value="Platformer">Platformer</option>
        </select>
        <br><br>

        <label for="releaseYear">Release Year:</label>
        <input type="number" id="releaseYear" name="releaseYear" min="1970" max="2024" required>
        <br><br>

        <label for="rating">Rating (1-5):</label>
        <input type="number" id="rating" name="rating" min="1" max="5" step="1" required>
        <br><br>

        <label for="reviewText">Review:</label>
        <textarea id="reviewText" name="reviewText" rows="5" cols="50" required></textarea>
        <br><br>

        <label for="reviewerName">Reviewer Name:</label>
        <input type="text" id="reviewerName" name="reviewerName" required>
        <br><br>

        <label for="reviewDate">Review Date:</label>
        <input type="date" id="reviewDate" name="reviewDate" required>
        <br><br>

        <div class="action-buttons">
            <button type="submit">Submit</button>
            <button type="button" class="cancel-btn" onclick="window.location.href='index.html'">Cancel</button>
        </div>
    </form>

    <script>
        // Game data (same as in view.html)
        const gameReviews = {
            1: {
                gameTitle: "The Legend of Zelda: Breath of the Wild",
                platform: "Nintendo Switch",
                genre: "Adventure",
                releaseYear: 2017,
                rating: 5,
                reviewText: "An absolutely stunning open-world adventure that redefined what a Zelda game could be. The freedom to explore and experiment is unparalleled.",
                reviewerName: "Alex Johnson",
                reviewDate: "2023-06-15"
            },
            2: {
                gameTitle: "Elden Ring",
                platform: "PC",
                genre: "RPG",
                releaseYear: 2022,
                rating: 5,
                reviewText: "FromSoftware's masterpiece combines their signature challenging gameplay with an incredible open world. Every discovery feels rewarding.",
                reviewerName: "Sarah Chen",
                reviewDate: "2023-07-20"
            },
            3: {
                gameTitle: "Cyberpunk 2077",
                platform: "PS5",
                genre: "RPG",
                releaseYear: 2020,
                rating: 3,
                reviewText: "After many patches, the game has improved significantly. The story and world are compelling, but technical issues still persist.",
                reviewerName: "Mike Rodriguez",
                reviewDate: "2023-08-10"
            },
            4: {
                gameTitle: "God of War Ragnar√∂k",
                platform: "PS5",
                genre: "Action",
                releaseYear: 2022,
                rating: 5,
                reviewText: "A perfect conclusion to the Norse saga. The relationship between Kratos and Atreus is beautifully developed throughout the journey.",
                reviewerName: "Emma Wilson",
                reviewDate: "2023-05-12"
            },
            5: {
                gameTitle: "Minecraft",
                platform: "PC",
                genre: "Simulation",
                releaseYear: 2011,
                rating: 4,
                reviewText: "Still one of the most creative and relaxing games ever made. The possibilities are truly endless with this sandbox masterpiece.",
                reviewerName: "Chris Thompson",
                reviewDate: "2023-09-05"
            },
            6: {
                gameTitle: "Super Mario Odyssey",
                platform: "Nintendo Switch",
                genre: "Platformer",
                releaseYear: 2017,
                rating: 5,
                reviewText: "Pure joy in video game form. Every kingdom is a playground filled with clever platforming challenges and delightful surprises.",
                reviewerName: "Lisa Park",
                reviewDate: "2023-04-18"
            },
            7: {
                gameTitle: "Red Dead Redemption 2",
                platform: "Xbox Series X",
                genre: "Action",
                releaseYear: 2018,
                rating: 4,
                reviewText: "An incredibly detailed and immersive western experience. The story is gripping, though the pacing can be slow at times.",
                reviewerName: "David Kim",
                reviewDate: "2023-06-30"
            },
            8: {
                gameTitle: "Hades",
                platform: "PC",
                genre: "Action",
                releaseYear: 2020,
                rating: 5,
                reviewText: "Perfect blend of addictive gameplay, stellar storytelling, and gorgeous art. Every run feels meaningful and rewarding.",
                reviewerName: "Jennifer Lee",
                reviewDate: "2023-07-08"
            },
            9: {
                gameTitle: "Animal Crossing: New Horizons",
                platform: "Nintendo Switch",
                genre: "Simulation",
                releaseYear: 2020,
                rating: 4,
                reviewText: "A charming and peaceful escape that was perfect during lockdown. Building and decorating your island is incredibly satisfying.",
                reviewerName: "Tom Brown",
                reviewDate: "2023-05-25"
            },
            10: {
                gameTitle: "The Witcher 3: Wild Hunt",
                platform: "PC",
                genre: "RPG",
                releaseYear: 2015,
                rating: 5,
                reviewText: "One of the greatest RPGs ever created. The world is rich, the quests are meaningful, and Geralt's story is unforgettable.",
                reviewerName: "Maria Garcia",
                reviewDate: "2023-08-22"
            },
            11: {
                gameTitle: "Among Us",
                platform: "Mobile",
                genre: "Puzzle",
                releaseYear: 2018,
                rating: 3,
                reviewText: "Fun party game that became a cultural phenomenon. Great for playing with friends, but can get repetitive quickly.",
                reviewerName: "Kevin White",
                reviewDate: "2023-09-12"
            },
            12: {
                gameTitle: "Fall Guys",
                platform: "PC",
                genre: "Action",
                releaseYear: 2020,
                rating: 3,
                reviewText: "Colorful and chaotic battle royale that's entertaining in short bursts. The novelty wears off after extended play sessions.",
                reviewerName: "Amy Davis",
                reviewDate: "2023-07-15"
            }
        };

        // Get game ID from URL parameter
        function getGameId() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('id');
        }

        // Load existing data into form
        function loadExistingData() {
            const gameId = getGameId();
            const review = gameReviews[gameId];

            if (review) {
                document.getElementById('gameTitle').value = review.gameTitle;
                document.getElementById('platform').value = review.platform;
                document.getElementById('genre').value = review.genre;
                document.getElementById('releaseYear').value = review.releaseYear;
                document.getElementById('rating').value = review.rating;
                document.getElementById('reviewText').value = review.reviewText;
                document.getElementById('reviewerName').value = review.reviewerName;
                document.getElementById('reviewDate').value = review.reviewDate;
            }
        }

        // Form validation and submission
        document.getElementById('editForm').addEventListener('submit', function(e) {
            e.preventDefault();

            // Get form values
            const gameTitle = document.getElementById('gameTitle').value.trim();
            const rating = parseInt(document.getElementById('rating').value);
            const reviewerName = document.getElementById('reviewerName').value.trim();
            const reviewText = document.getElementById('reviewText').value.trim();

            let isValid = true;
            let errorMessage = '';

            // Validate Game Title (minimum 2 characters)
            if (gameTitle.length < 2) {
                isValid = false;
                errorMessage += 'Game title must be at least 2 characters long.\n';
            }

            // Validate Rating (between 1-5)
            if (isNaN(rating) || rating < 1 || rating > 5) {
                isValid = false;
                errorMessage += 'Rating must be between 1 and 5.\n';
            }

            // Validate Reviewer Name (minimum 2 characters)
            if (reviewerName.length < 2) {
                isValid = false;
                errorMessage += 'Reviewer name must be at least 2 characters long.\n';
            }

            // Validate Review Text (minimum 10 characters)
            if (reviewText.length < 10) {
                isValid = false;
                errorMessage += 'Review must be at least 10 characters long.\n';
            }

            if (isValid) {
                if (confirm("Do you want to edit this item?")) {
                    alert('Item edited!');
                    // In a real application, you would update the data in a server here
                    window.location.href = 'index.html';
                }
            } else {
                alert('Please fix the following errors:\n' + errorMessage);
            }
        });

        // Load existing data when page loads
        window.onload = loadExistingData;
    </script>
    </div>
</body>
</html>