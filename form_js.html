<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Checkout example</title>
  </head>


  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: #f5f5f5;
    }

    div {
      max-width: 600px;
      margin: 0 auto;
      background-color: white;
      padding: 20px;
      border-radius: 8px;
    }

    h1, h4 {
      color: #333;
      margin-bottom: 20px;
    }

    form {
      margin-bottom: 20px;
    }

    input, select, button {
      padding: 8px;
      margin: 5px 0;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 14px;
    }

    button {
      background-color: #ff1e00;
      color: white;
      cursor: pointer;
      padding: 10px 20px;
    }

    button:hover {
      background-color: #0003b3;
    }

    hr {
      border: none;
      border-top: 1px solid #eee;
      margin: 20px 0;
    }

    input[type="checkbox"], input[type="radio"] {
      margin-right: 8px;
    }
  </style>
  
<div>
  <main>
    <h1>Checkout!</h1>
        <form>
          <div>
            <input type="text" placeholder="Promo code">
            <button type="submit">Redeem</button>
          </div>
        </form>
      </div>
      <div>
        <h4>Billing address</h4>
        <form novalidate="">
          <div>
            <div>
              Last Name: <input type="text" id="firstName" placeholder="" value="" required="">
            </div>

            <div>
              First Name: <input type="text" id="lastName" placeholder="" value="" required="">
            </div>

            <div>
                Description: <input type="textarea" placeholder="This is textarea!">
            </div>

            <div>
              <div>
                <span>@</span>
                <input type="text" id="username" placeholder="Username" required="">
            </div>

            <div>
             Email: <input type="email" id="email" placeholder="you@example.com">
            </div>

            <div>
              <input type="text" id="address" placeholder="1234 Main St" required="">
            </div>

            <div>
              <input type="text" id="address2" placeholder="Apartment or suite">
            </div>

            <div>
                Country:
              <select id="country" required="">
                <option value="">Choose...</option>
                <option>United States</option>
              </select>
            </div>

            <div>
                City:
              <select id="state" required="">
                <option value="">Choose...</option>
                <option>California</option>
                <option>Another state</option>
              </select>
            </div>

            <div>
                Zip Code:
              <input type="text" id="zip" placeholder="" required="">
            </div>
          </div>
          <br>

          <hr>

          <div>
            <input type="checkbox" id="same-address">Shipping address is same as billing address
          </div>

          <div>
            <input type="checkbox" id="save-info">Save my information
          </div>

          <hr>

          <h4>Payment</h4>

          <div>
            <div>
              <input id="credit" name="paymentMethod" type="radio" checked="" required="">Credit Card
            </div>
            <div>
              <input id="debit" name="paymentMethod" type="radio" required=""> Cash
            </div>
            <div>
              <input id="paypal" name="paymentMethod" type="radio" required=""> I dont wanna pay
            </div>
          </div>

          <div>
            <div>
              Cardholder Name: <input type="text" id="cc-name" placeholder="" required="">
            </div>

            <div>
              Card number: <input type="number" id="cc-number" placeholder="" required="">
            </div>

            <div>
              Expiry Date<input type="date" id="cc-expiration" placeholder="" required="">
            </div>

            <div>
              CVV: <input type="text" id="cc-cvv" placeholder="" required="">
            </div>
          </div>

          <button type="submit">Continue to checkout</button>
        </form>
      </div>
    </div>
  </main>
</div>  

<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('form[novalidate]');
    const submitButton = document.querySelector('button[type="submit"]');
    
    // Validation patterns
    const patterns = {
        name: /^[a-zA-Z\s'-]{2,50}$/,
        email: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
        username: /^[a-zA-Z0-9_]{3,20}$/,
        address: /^[a-zA-Z0-9\s,.-]{5,100}$/,
        zipCode: /^[0-9]{5}(-[0-9]{4})?$/,
        cardNumber: /^[0-9]{13,19}$/,
        cvv: /^[0-9]{3,4}$/,
        cardholderName: /^[a-zA-Z\s'-]{2,50}$/
    };
    
    // Error messages
    const errorMessages = {
        firstName: 'First name must be 2-50 characters and contain only letters, spaces, hyphens, and apostrophes',
        lastName: 'Last name must be 2-50 characters and contain only letters, spaces, hyphens, and apostrophes',
        email: 'Please enter a valid email address',
        username: 'Username must be 3-20 characters and contain only letters, numbers, and underscores',
        address: 'Address must be 5-100 characters',
        zipCode: 'Please enter a valid ZIP code (12345 or 12345-6789)',
        country: 'Please select a country',
        state: 'Please select a state/city',
        cardNumber: 'Card number must be 13-19 digits',
        cvv: 'CVV must be 3-4 digits',
        cardholderName: 'Cardholder name must be 2-50 characters and contain only letters, spaces, hyphens, and apostrophes',
        ccExpiration: 'Please select an expiration date'
    };
    
    // Create error display function
    function showError(input, message) {
        clearError(input);
        const errorDiv = document.createElement('div');
        errorDiv.className = 'error-message';
        errorDiv.textContent = message;
        errorDiv.style.color = '#ff1e00';
        errorDiv.style.fontSize = '12px';
        errorDiv.style.marginTop = '2px';
        input.parentNode.appendChild(errorDiv);
        input.style.borderColor = '#ff1e00';
    }
    
    function clearError(input) {
        const existingError = input.parentNode.querySelector('.error-message');
        if (existingError) {
            existingError.remove();
        }
        input.style.borderColor = '#ddd';
    }
    
    // Validation functions
    function validateField(input) {
        const value = input.value.trim();
        const id = input.id;
        
        // Required field check
        if (input.hasAttribute('required') && !value) {
            showError(input, 'This field is required');
            return false;
        }
        
        // Skip validation if field is empty and not required
        if (!value && !input.hasAttribute('required')) {
            clearError(input);
            return true;
        }
        
        // Specific validations
        switch (id) {
            case 'firstName':
            case 'lastName':
                if (!patterns.name.test(value)) {
                    showError(input, errorMessages[id]);
                    return false;
                }
                break;
                
            case 'email':
                if (!patterns.email.test(value)) {
                    showError(input, errorMessages.email);
                    return false;
                }
                break;
                
            case 'username':
                if (!patterns.username.test(value)) {
                    showError(input, errorMessages.username);
                    return false;
                }
                break;
                
            case 'address':
                if (!patterns.address.test(value)) {
                    showError(input, errorMessages.address);
                    return false;
                }
                break;
                
            case 'zip':
                if (!patterns.zipCode.test(value)) {
                    showError(input, errorMessages.zipCode);
                    return false;
                }
                break;
                
            case 'country':
            case 'state':
                if (value === '') {
                    showError(input, errorMessages[id]);
                    return false;
                }
                break;
                
            case 'cc-name':
                if (!patterns.cardholderName.test(value)) {
                    showError(input, errorMessages.cardholderName);
                    return false;
                }
                break;
                
            case 'cc-number':
                if (!patterns.cardNumber.test(value)) {
                    showError(input, errorMessages.cardNumber);
                    return false;
                }
                break;
                
            case 'cc-cvv':
                if (!patterns.cvv.test(value)) {
                    showError(input, errorMessages.cvv);
                    return false;
                }
                break;
                
            case 'cc-expiration':
                const selectedDate = new Date(value);
                const today = new Date();
                if (selectedDate <= today) {
                    showError(input, 'Expiration date must be in the future');
                    return false;
                }
                break;
        }
        
        clearError(input);
        return true;
    }
    
    // Add real-time validation
    const inputs = form.querySelectorAll('input, select');
    inputs.forEach(input => {
        input.addEventListener('blur', () => validateField(input));
        input.addEventListener('input', () => {
            if (input.parentNode.querySelector('.error-message')) {
                validateField(input);
            }
        });
    });
    
    // Form submission validation
    form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        let isValid = true;
        
        // Validate all required fields
        inputs.forEach(input => {
            if (!validateField(input)) {
                isValid = false;
            }
        });
        
        // Check if payment method is selected
        const paymentMethods = form.querySelectorAll('input[name="paymentMethod"]');
        const paymentSelected = Array.from(paymentMethods).some(radio => radio.checked);
        if (!paymentSelected) {
            alert('Please select a payment method');
            isValid = false;
        }
        
        if (isValid) {
            alert('Form submitted successfully!');
         } else {
            alert('Please correct the errors above before submitting');
        }
    });
});
</script>

</body></html>